<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" xmlns:shiro="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8">
	<title>管理员界面</title>
	<!-- jquery -->
	<script type="text/javascript" src="../js/jquery.min.js"></script>
	<script type="text/javascript" src="../js/logout.js"></script>
	<!-- bootstrap -->
	<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
	<script type="text/javascript" src="../js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="./css/aside.css">
	<link rel="stylesheet" type="text/css" href="./css/header.css">
	<link rel="stylesheet" type="text/css" href="./css/weight.css">
	<link rel="shortcut icon" href="../img/fav.png" />
	<!-- sweetalert2 -->
	<link rel="stylesheet" type="text/css" href="../css/sweetalert2.css">
	<script async type="text/javascript" src="../js/sweetalert2.js"></script>
	<!-- sweetalert2结束 -->
</head>
<body>
	<header>
		<!-- <iframe src="./header.html" width="100%" height="120px;" frameborder="no"></iframe> -->
		<nav>
			<div id="nav-left">
				<a href=""><img src="../img/logo.svg" alt="图标" id="main-icon"></a>
				<span id="nav-name">中南大学工程训练中心教学管理系统--管理端</span>
			</div>
			<a class="btn btn-default get-out" onclick="logout()"><img src="./img/out.svg" class="out-icon">退  出</a>
		</nav>
	</header>
	<!-- 面包屑导航 -->
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a href="#">管理端</a></li>
			<li class="breadcrumb-item"><a href="#">成绩管理</a></li>
			<li class="breadcrumb-item active">权重设置</li>
		</ol>
	</nav>
	<!-- 面包屑导航结束 -->
	<!-- 主体部分 -->
	<div class="mainbody row">
		<aside class="col-xs-2 col-sm-2">
			<!-- <iframe src="./aside.html" width="100%" height="700px;" frameborder="no"></iframe> -->
			<div id="aside">
				<ul class="list-group">
					<li class="list-group-item"><img class="icon" src="./img/user-manage.svg"> 用户管理
						<ul>
							<li><a href="./student-manage.html">学生管理</a></li>
							<li><a href="./teacher-manage.html">教师管理</a></li>
						</ul>
					</li>
					<li class="list-group-item"><img class="icon" src="./img/paike.svg"> 实习排课
						<ul>
							<li><a href="./course-schedul.html">排课模版</a></li>
							<li><a href="./divide-group.html">学生分组</a></li>
						</ul>
					</li>
					<li class="list-group-item"><img class="icon" src="./img/score.svg"> 成绩管理
						<ul>
							<li class="left-active"><a href="./weight.html">权重设置</a></li>
							<li><a href="./score.html">成绩列表</a></li>
						</ul>
					</li>
					<li class="list-group-item"><img class="icon" src="./img/extra-work.svg"> 开放情况
						<ul>
							<li><a href="./extra-work.html">开放记录</a></li>
						</ul>
					</li>
					<li class="list-group-item"><img class="icon" src="./img/materal-manage.svg"> 物料管理
						<ul>
							<li><a href="./materal-record.html">物料登记</a></li>
							<li><a href="./materal-buy.html">物料申购</a></li>
						</ul>
					</li>
					<li class="list-group-item"><img class="icon" src="./img/setup.svg"> 个人设置
						<ul>
							<li><a href="./setup.html">密码修改</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</aside>
		<div class="right col-xs-10 col-sm-10">

			<!-- 权重设置模块 -->
			<div class="card">
				<div class="card-header">
					<h5>权重设置</h5>
				</div>
				<div class="card-body">
					<div class="row">
						<input type="button" class="btn btn-success col-xs-2 col-md-2" id="add-new-plan"
							   data-toggle="modal" data-target="#weight-plan-add" value="添加新权重方案"
							   onclick="addTemplate()">
						<div class="modal fade" id="weight-plan-add" tabindex="-1" role="dialog" aria-labelledby="weight-plan-addTitle" aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="weight-plan-addTitle">添加新权重方案</h5>
										<button type="button" class="close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">

										<input type="text" id="new_weight_temp_name" class="form-control col-xs-3"
											   placeholder="请输入新权重方案名称">
										<table class="table col-xs-9" id="new_weight_list_table">
											<thead>
												<tr>
													<th>打分项</th>
													<th>权重</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td>钳工</td>
													<td><input type="text" value="10"> %</td>
												</tr>
												<tr>
													<td>电工</td>
													<td><input type="text" value="10"> %</td>
												</tr>
												<tr>
													<td>木工</td>
													<td><input type="text" value="10"> %</td>
												</tr>
											</tbody>
										</table>
										<br>
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-secondary" data-dismiss="modal" id="addNewPlan-close">关闭</button>
										<button type="button" class="btn btn-primary" id="addNewPlan-ensure"
												onclick="createNewWeightTemp()">确定
										</button>
									</div>
								</div>
							</div>
						</div><!-- /.modal -->

					</div>
					<br>
					<div class="row select-module">
						<select class="form-control custom-select col-xs-5 col-sm-5" id="weight_select_templates1">
							<!-- <option>权重模版选择</option>
							<option>权重模版1</option>
							<option>权重模版2</option> -->
						</select>
						<button class="btn btn-outline-primary" onclick="editWeight()">编辑</button>
						<button class="btn btn-outline-success" onclick="submitWeight()">保存</button>
						<button class="btn btn-outline-danger" onclick="deleteTemplate()">删除</button>
					</div>

					<div>
						<table class="table table-striped">
							<thead class="table-dark">
								<tr>
									<th>打分项</th>
									<th>权重</th>
								</tr>
							</thead>
							<tbody id="weight_edit_list">
								<!-- <tr>
									<td>钳工</td>
									<td><input type="text" name="" value="30"> %</td>
								</tr>
								<tr>
									<td>钳工</td>
									<td><input type="text" name="" value="30"> %</td>
								</tr> -->
							</tbody>
						</table>
						<br>
					</div>

					<div>
						<select class="form-control custom-select col-xs-3 col-sm-3" id="weight_select_batch1">
						</select>
						<span class="col-xs-1 col-sm-3"></span>
						<select class="form-control custom-select col-xs-3 col-sm-3" id="weight_select_templates2">
						</select>
						<span class="col-xs-1 col-sm-3"></span>
						<button class="btn btn-success" onclick="band()">绑&emsp;定</button>
					</div>
					<div class="tips">
						<span>注意：</span>
						<br>
						<span>1、如若绑定之后欲对某批次权重方案进行修改，只能修改母模版后再次绑定；</span>
						<br>
						<span>2、两次绑定仅限于在学生成绩发布之前进行操作。</span>
					</div>
				</div>
			</div>

			<br><br>
			<!-- 批次权重、评级规则查询模块 -->
			<div class="card">
				<div class="card-header">
					<h5>批次权重、评级规则查询</h5>
				</div>
				<div class="card-body">
					<select class="form-control custom-select col-xs-3 col-sm-3" id="weight_select_batch2">
					</select>

					<h4>成绩权重</h4>
					<div>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>打分项</th>
									<th>权重</th>
								</tr>
							</thead>
							<tbody id="show_weight_list_tbody">
								<tr>
							</tbody>
						</table>
						<br>
					</div>
				</div>
			</div>

		</div>
	</div>
	<!-- 主体部分结束 -->
	<script type="text/javascript" src="../config/common_config.js"></script>
	<script type="text/javascript" src="./js/config/config-weight.js"></script>
	<script type="text/javascript" src="./js/api/api_batch.js"></script>
	<script type="text/javascript" src="./js/api/api_proced.js"></script>
	<script type="text/javascript" src="./js/weight.js"></script>
</body>
</html>
