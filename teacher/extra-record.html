<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" xmlns:shiro="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8">
	<title>教师端界面</title>
	<!-- jquery -->
	<script type="text/javascript" src="../js/jquery.min.js"></script>
	<script type="text/javascript" src="../js/logout.js"></script>
	<!-- bootstrap -->
	<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
	<script type="text/javascript" src="../js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="../manager/css/aside.css">
	<link rel="stylesheet" type="text/css" href="../manager/css/header.css">
	<link rel="stylesheet" type="text/css" href="../manager/css/extra-work.css">
	<link rel="shortcut icon" href="../img/fav.png" />
	<!-- 日期时间插件 flatpickr.js -->
	<link href="https://cdn.bootcss.com/flatpickr/4.5.0/flatpickr.min.css" rel="stylesheet">
	<script src="https://cdn.bootcss.com/flatpickr/4.5.0/flatpickr.min.js"></script>
	<!-- 日期时间插件 flatpickr.js 结束 -->
	<link rel="stylesheet" type="text/css" href="./css/teach-schedule.css">
	<!-- sweetalert2 -->
	<link rel="stylesheet" type="text/css" href="../css/sweetalert2.css">
	<script async type="text/javascript" src="../js/sweetalert2.js"></script>
	<!-- sweetalert2结束 -->
</head>
<body>
	<header>
		<!-- <iframe src="./header.html" width="100%" height="120px;" frameborder="no"></iframe> -->
		<nav>
			<div id="nav-left">
				<a href=""><img src="../img/logo.svg" alt="图标" id="main-icon"></a>
				<span id="nav-name">中南大学工程训练中心教学管理系统--教师端</span>
			</div>
			<a class="btn btn-default get-out" onclick="logout()"><img src="../manager/img/out.svg" class="out-icon">退  出</a>
		</nav>
	</header>
	<!-- 面包屑导航 -->
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a href="#">教师端</a></li>
			<li class="breadcrumb-item"><a href="#">加班情况</a></li>
			<li class="breadcrumb-item active">加班记录</li>
		</ol>
	</nav>
	<!-- 面包屑导航结束 -->
	<!-- 主体部分 -->
	<div class="mainbody row">
		<aside class="col-xs-2 col-sm-2">
			<!-- <iframe src="./aside.html" width="100%" height="700px;" frameborder="no"></iframe> -->
			<div id="aside">
				<ul class="list-group">
					<li class="list-group-item"><img class="icon" src="../manager/img/paike.svg"> 实习课程
						<ul>
							<li><a href="./teach-schedule.html">教学安排</a></li>
						</ul>
					</li>
					<li class="list-group-item"><img class="icon" src="../manager/img/score.svg"> 成绩管理
						<ul>
							<li><a href="./operate-score.html">操作评分</a></li>
						</ul>
					</li>
					<li class="list-group-item"><img class="icon" src="../manager/img/extra-work.svg"> 加班情况
						<ul>
							<li class="left-active"><a href="./extra-record.html">加班记录</a></li>
						</ul>
					</li>
					<li class="list-group-item"><img class="icon" src="../manager/img/materal-manage.svg"> 物料管理
						<ul>
							<li><a href="./materal-record.html">物料登记</a></li>
							<li><a href="./materal-buy.html">物料申购</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</aside>
		<div class="right col-xs-10 col-sm-10">

			<!-- 学生加班申请 -->
			<div class="card" shiro:hasPermission="user:overwork">
				<div class="card-header">
					<h5>学生加班申请</h5>
				</div>
				<div class="card-body">
					<div class="row">
						<input class="flatpickr mycalendar form-control col-xs-2 col-sm-2 left-flatpickr" name="submit-time" placeholder="提交日期" id="stu_submit_time">
						<input class="flatpickr mycalendar form-control col-xs-2 col-sm-2 left-flatpickr" name="start-time" placeholder="加班开始日期" id="stu_extra_work_start_time">
						<span class="form-control col-xs-1 col-sm-1 time-last">至</span>
						<input class="flatpickr mycalendar form-control col-xs-2 col-sm-2" name="end-time" placeholder="加班结束时间" id="stu_extra_work_end_time">
						<select class="form-control custom-select col-xs-2 col-sm-2 select-worktype" id="stu_extra_select_process">
							<option>选择工种</option>
							<option>车工</option>
							<option>钳工</option>
							<option>铣削</option>
						</select>
						<input type="button" name=""class="btn btn-success float-right" value="查询">
					</div>

					<table class="table">
						<thead class="thead-dark">
							<tr>
								<th>提交日期</th>
								<th>姓名</th>
								<th>班级</th>
								<th>工种</th>
								<th>加班时间</th>
								<th>时长</th>
								<th>加班事由</th>
							</tr>
						</thead>
						<tbody id="stu_extra_work_tbody">
							<!-- <tr>
								<td>2018-10-04 20:45</td>
								<td>张扬帆</td>
								<td>材料1610班</td>
								<td>钳工</td>
								<td>2018-10-05 20:00-22:00</td>
								<td>2h</td>
								<td>无碳小车校赛加班</td>
							</tr> -->
						</tbody>
					</table>
				</div>
			</div>
			<!-- 学生加班申请结束 -->

			<!-- 新增教师值班 -->
			<div class="card" shiro:hasPermission="user:overwork">
				<div class="card-header">
					<h5>新增教师值班</h5>
				</div>
				<div class="card-body">
					<div class="row">
						<input class="flatpickr mycalendar form-control col-xs-2 col-sm-2 left-flatpickr" name="start-time" data-enable-time="true" data-time_24hr="true" placeholder="值班时间" id="teacher_overwork_start_time">
						<select class="form-control custom-select col-xs-2 col-sm-2 select-worktype" id="teacher_overwork_select_process">
							<option>选择工种</option>
							<option>车工</option>
							<option>钳工</option>
							<option>铣削</option>
						</select>
						<select class="form-control custom-select col-xs-2 col-sm-2 select-worktype" id="teacher_overwork_select_teacher">
							<option>选择教师</option>
							<option>张三</option>
							<option>李四</option>
							<option>王五</option>
							<option>李伟虹</option>
						</select>
						<input type="text" name="last-time" placeholder="输入时长" class="form-control col-xs-2 col-sm-2 last-time" id="teacher_overwork_last_time">
					</div>
					<br>

					<form>
						<div class="form-group">
					    <label for="extraWork-reason">加班事由：</label>
					    <textarea class="form-control" id="extraWork-reason" rows="3"></textarea>
					  </div>
					</form>
					<br>

					<input type="button" name=""class="btn btn-success float-right" value="确定" onclick="addTeacherOverwork()">
				</div>
			</div>
			<!-- 新增教师值班结束 -->

			<!-- 教师值班记录 -->
			<div class="card">
				<div class="card-header">
					<h5>教师值班记录</h5>
				</div>
				<div class="card-body">
					<div class="row">
						<input class="flatpickr mycalendar form-control col-xs-2 col-sm-2 left-flatpickr" name="start-time" placeholder="起始日期" id="history_start_time">
						<span class="form-control col-xs-1 col-sm-1 time-last">至</span>
						<input class="flatpickr mycalendar form-control col-xs-2 col-sm-2" name="end-time" placeholder="终止时间" id="history_end_time">
						<select class="form-control custom-select col-xs-2 col-sm-2 select-worktype" id="history_select_process">
							<option>选择工种</option>
							<option>车工</option>
							<option>钳工</option>
							<option>铣削</option>
						</select>
						<input type="button" name=""class="btn btn-success float-right" value="查询" onclick="getOverworkByTimeOrProName()">
					</div>

					<table class="table">
						<thead class="thead-dark">
							<tr>
								<th>值班日期时间</th>
								<th>姓名</th>
								<th>工种</th>
								<th>时长</th>
								<th>加班事由</th>
								<th>操作</th>
							</tr>
						</thead>
						<tbody id="history_tbody">
							<!-- <tr>
								<td>2018-10-05 20:00-22:00</td>
								<td>夏丽君</td>
								<td>钳工</td>
								<td>2h</td>
								<td>无碳小车校赛加班</td>
								<td>
									<button class="btn btn-primary btn-sm">编辑</button>
									<button class="btn btn-danger btn-sm">删除</button>
								</td>
							</tr> -->
						</tbody>
					</table>

					<!-- 编辑教师加班记录 Modal -->
					<div class="modal fade" id="editTeacherHistoryModal" tabindex="-1" role="dialog" aria-labelledby="editTeacherHistoryModalTitle" aria-hidden="true">
						<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="editTeacherHistoryModalTitle">修改教师加班记录</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<div class="row">
										<input type="hidden" id="edit_history_overworkId">
										<input class="flatpickr mycalendar form-control col-xs-2 col-sm-2 left-flatpickr" name="start-time" data-enable-time="true" data-time_24hr="true" placeholder="值班时间" id="edit_history_start_time">
										<select class="form-control custom-select col-xs-2 col-sm-2 select-worktype" id="edit_history_select_process">
											<option>选择工种</option>
											<option>车工</option>
											<option>钳工</option>
											<option>铣削</option>
										</select>
										<select class="form-control custom-select col-xs-2 col-sm-2 select-worktype" id="edit_history_select_teacher">
											<option>选择教师</option>
											<option>张三</option>
											<option>李四</option>
											<option>王五</option>
											<option>李伟虹</option>
										</select>
										<input type="text" name="last-time" placeholder="输入时长" class="form-control col-xs-2 col-sm-2 last-time" id="edit_history_last_time">
									</div>
									<br>

									<form>
										<div class="form-group">
									    <label for="edit_history_extraWork_reason">加班事由：</label>
									    <textarea class="form-control" id="edit_history_extraWork_reason" rows="3"></textarea>
									  </div>
									</form>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
									<button type="button" class="btn btn-primary" onclick="updateTeacherOverwork()" data-dismiss="modal">确定</button>
								</div>
							</div>
						</div>
					</div>
					<!-- /.modal -->

					<div class="tips">
						<p>注意：学生端界面默认只公示即日起未来7天内的值班安排</p>
					</div>
				</div>
			</div>
			<!-- 教师值班记录结束 -->

		</div>
	</div>
	<!-- 主体部分结束 -->
	<script type="text/javascript">
		$(".mycalendar").flatpickr();
		$(".mycalendar-card2").flatpickr();
		$(".mycalendar-card3").flatpickr();
	</script>
	<script type="text/javascript" src='./js/extra-work.js'></script>
</body>
</html>
